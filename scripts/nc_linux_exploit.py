#!/usr/bin/python

from pwn import *
import inspect
import argparse

e    = ELF("/bin/ls")
l    = e.libc
addr = "0.0.0.0"
port = 31337

''' Functions '''
def main():
    log.info("main()")
    p.interactive()

def pause():
    _, _, line, _, _, _ = inspect.stack()[1]
    raw_input("[Pause] line:%d > " % line)

''' init '''
if __name__ == "__main__":

    parser = argparse.ArgumentParser()
    parser.add_argument('--remote', action='store_true')
    args = parser.parse_args()

    if args.remote:
        p = remote(addr, port)
    else:
        p = process(e.path)

    pause()
    main()